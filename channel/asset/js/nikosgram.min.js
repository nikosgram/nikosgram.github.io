/*!
 *  License - http://nikosgram13.github.io/LICENSE
 */
;$(function(){var b=["AIzaSyD2OyY85uKKWhHQpveTUwDC8ITbMglJ4ts"];var a=["https://www.googleapis.com/youtube/v3/"];var e=["nikosgram13","nikosgram13"];var g;var c=[];f();function f(){if(exsHash("youtube")){e[0]=getHash("youtube")}if(exsHash("twitch")){e[1]=getHash("twitch")}if(exsHash("page")){g=getHash("page")}}function d(h){if(c.length<=0){return}var i=$("[data-lvpi]");i.fadeOut("slow",function(){i.html("");var j=g?"&pageToken="+g:"";$.getJSON(a[0]+"playlistItems?part=snippet&maxResults=3&playlistId="+c[0]+"&key="+b[0]+j,function(l){var o=$("[data-lvpc]");var n=$("[data-player]");if(l.prevPageToken){i.append('<div class="col-md-12 up-arr"><i class="arr fa fa-chevron-up" data-page="'+l.prevPageToken+'"></i></div>')}else{i.append('<div class="col-md-12 up-arr"><i class="arr fa fa-chevron-up" style="color:firebrick;"></i></div>')}var m=l.items;m.forEach(function(q){var p=q.snippet;i.append('<div class="col-md-12 video-item" data-video="'+p.resourceId["videoId"]+'"><img class="img-responsive b-lazy" src="'+p.thumbnails["medium"]["url"]+'" alt="'+p.title+'"></div>')});if(l.nextPageToken){i.append('<div class="col-md-12 down-arr"><i class="arr fa fa-chevron-down" data-page="'+l.nextPageToken+'"></i></div>')}if(h){var k=m[0]["snippet"]["resourceId"]["videoId"];n.append('<iframe class="embed-responsive-item" src="https://www.youtube.com/embed/'+k+'?rel=0&controls=0" frameborder="0" allowfullscreen>');$("#latest_video").focus();o.hide();o.removeClass("sr-only");$("[data-loading]").fadeOut("slow",function(){o.fadeIn("slow")})}i.fadeIn("slow")})})}$(window).on("hashchange",function(){var i=e[0];var h=e[1];f();if(e[0]!=i||e[1]!=h){location.reload()}});$.getJSON(a[0]+"channels?part=contentDetails&forUsername="+e[0]+"&key="+b[0],function(h){if(h.items.length<=0){$.getJSON(a[0]+"channels?part=contentDetails&id="+e[0]+"&key="+b[0],function(k){if(k.items.length<=0){alert("I can't find this channel in youtube.com.");return}var m=k.items[0];c[0]=m.contentDetails["relatedPlaylists"]["uploads"];var l=m.id;$.getJSON(a[0]+"channels?part=brandingSettings&id="+l+"&key="+b[0],function(n){$("body").css("background-image",'url("'+n.items[0]["brandingSettings"]["image"]["bannerTvHighImageUrl"]+'")')});$.getJSON(a[0]+"channels?part=snippet&id="+l+"&key="+b[0],function(n){$("title").html(n.items[0]["snippet"]["title"])});d(true)});return}var j=h.items[0];c[0]=j.contentDetails["relatedPlaylists"]["uploads"];var i=j.id;$.getJSON(a[0]+"channels?part=brandingSettings&id="+i+"&key="+b[0],function(k){$("body").css("background-image",'url("'+k.items[0]["brandingSettings"]["image"]["bannerTvHighImageUrl"]+'")')});$.getJSON(a[0]+"channels?part=snippet&id="+i+"&key="+b[0],function(k){$("title").html(k.items[0]["snippet"]["title"])});d(true)});$(document).on("click","[data-video]",function(){var i=$(this);var j=i.attr("data-video");var h=$("[data-player]");i.focus();h.find("iframe").fadeOut("slow",function(){h.empty();h.append('<iframe class="embed-responsive-item" src="https://www.youtube.com/embed/'+j+'?rel=0&controls=0&autoplay=1" frameborder="0" allowfullscreen>')})});$(document).on("click","[data-page]",function(){addHash("page",$(this).attr("data-page"));d(false)})});