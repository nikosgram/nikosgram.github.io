/*!
 *  License - http://nikosgram13.github.io/LICENSE
 */
;$(function(){var e=["AIzaSyD2OyY85uKKWhHQpveTUwDC8ITbMglJ4ts","WnuWViECtdeuK7hS4qZwbRDxBAU9Kz6pQSxRMpoD"];var b=["https://www.googleapis.com/youtube/v3/"];var d=$("[data-results]");var c=$("[data-search]");var a=false;function f(){a=false;d.empty();if(exsHash("search")){var g=getHash("search");d.html('<div class="col-md-12 channel-item" data-loading><div class="panel panel-default channel-item"><div class="panel-body"><div class="loading-cube-grid step"><div class="loading-cube loading-cube1"></div><div class="loading-cube loading-cube2"></div><div class="loading-cube loading-cube3"></div><div class="loading-cube loading-cube4"></div><div class="loading-cube loading-cube5"></div><div class="loading-cube loading-cube6"></div><div class="loading-cube loading-cube7"></div><div class="loading-cube loading-cube8"></div><div class="loading-cube loading-cube9"></div></div></div></div></div>');$.getJSON(b[0]+"search?maxResults=10&part=snippet&type=channel&q="+g+"&key="+e[0],function(i){if(a){return}if(i.items.length){var h=[];i.items.forEach(function(k){var j=k.snippet;h.push({id:k.id["channelId"],title:j.title,desc:j.description,logo:j.thumbnails["default"]["url"]});$("[data-loading]").parent().empty()});h.forEach(function(j){d.append('<div class="col-md-12 channel-item" data-channel="'+j.id+'"><div class="panel panel-default channel-item"><div class="panel-body"><div class="media"><div class="media-left"><img class="media-object" src="'+j.logo+'" alt="'+j.title+'"></div><div class="media-body"><h4 class="media-heading">'+j.title+"</h4>"+j.desc+"</div></div></div></div></div>");$.getJSON(b[0]+"channels?part=brandingSettings&id="+j.id+"&key="+e[0],function(l){if(a){return}var k=-1;var o=l.items[0]["brandingSettings"];var m="";if(o.image["bannerMobileImageUrl"]){k=0;m="background-image: url('"+o.image["bannerMobileImageUrl"]+"')"}if(k!=-1){if(j.desc.trim().length){k=0}else{k=1}}var n=$('[data-channel="'+j.id+'"]');n.find(".channel-item").attr("style",m);if(k==0){n.find(".media-body").addClass("texted")}else{n.find(".media-heading").addClass("texted")}})});d.fadeIn("slow")}});c.val(g)}}$(document).on("click","[data-channel]",function(){var g=$(this);var h=g.attr("data-channel");$("body").fadeOut("slow",function(){window.location.href="channel/#youtube="+h})});d.bind("DOMSubtreeModified",function(){if($.trim($(this).html()).length){if(c.hasClass("search-vec")){c.removeClass("search-vec")}}else{if(!c.hasClass("search-vec")){c.addClass("search-vec")}}});c.on("input",function(){var g=this;var h=this.value;setTimeout(function(){if(g.value==h){if(!h.trim()){remHash("search")}else{addHash("search",h.trim().replace(/ /g,"+"))}}},350)});$(window).on("hashchange",function(){f()});f()});